"use strict";(self.webpackChunksocialnetwork=self.webpackChunksocialnetwork||[]).push([[92],{524:(e,n,r)=>{r.r(n),r.d(n,{default:()=>N});var t=r(5893),o=r(8370),a=r(8826),s=r(3060),i=r(4184),c=r.n(i),u=r(7294),l=r(9237),f=r(966),d=r(8335),p=function(e){var n;return null===(n=e.news)||void 0===n?void 0:n.news},h=r(3743),v=r(7168),w=r(9204),y=(0,v.hg)("news/getNews",(function(e,n){var r,t,o,a,s=e.friendList,i=n.extra,c=n.rejectWithValue;return r=void 0,t=void 0,a=function(){var e;return function(e,n){var r,t,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(r=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,t=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],t=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,i.api.post("/post/getNews",{usersList:s})];case 1:return[2,n.sent().data];case 2:return e=n.sent(),console.log(e),(0,w.IZ)(e)&&e.response?[2,c(e.response.data.error.message)]:[2,c("error")];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function s(e){try{c(a.next(e))}catch(e){n(e)}}function i(e){try{c(a.throw(e))}catch(e){n(e)}}function c(n){var r;n.done?e(n.value):(r=n.value,r instanceof o?r:new o((function(e){e(r)}))).then(s,i)}c((a=a.apply(r,t||[])).next())}))})),b=function(e){var n;return null===(n=e.news)||void 0===n?void 0:n.isLoading},g=r(9731);var m=r(5998),x=function(e){var n=e.children,r=e.reducers,o=e.removeAfterUnmount,a=(0,m.oR)(),s=(0,m.I0)();return(0,u.useEffect)((function(){return Object.entries(r).forEach((function(e){var n=e[0],r=e[1];a.reducerManager.add(n,r),s({type:"@INIT ".concat(n," reducer")})})),function(){o&&Object.entries(r).forEach((function(e){var n=e[0];e[1],a.reducerManager.remove(n),s({type:"@DESTROY ".concat(n," reducer")})}))}}),[]),(0,t.jsx)(t.Fragment,{children:n})},j=(0,v.oM)({name:"news",initialState:{news:[],isLoading:!1},reducers:{},extraReducers:function(e){e.addCase(y.rejected,(function(e,n){e.isLoading=!1,e.error=n.payload})).addCase(y.pending,(function(e){e.isLoading=!0,e.error=void 0})).addCase(y.fulfilled,(function(e,n){e.isLoading=!1,e.news=n.payload.posts}))}}),k=(j.actions,{news:j.reducer}),C=function(e){var n=e.className,r=(0,h.T)(),o=(0,f.C)(d.is),a=(0,f.C)(p),s=(0,f.C)(b);return(0,u.useEffect)((function(){o.friends&&r(y({friendList:o.friends}))}),[o.friends]),s?(0,t.jsx)(g.t,{}):(0,t.jsx)(x,{removeAfterUnmount:!0,reducers:k,children:(0,t.jsx)("div",{className:c()("owol2I34",{},[n]),children:a&&a.length?a.map((function(e){return(0,t.jsx)(l.S,{post:e},e._id)})):"У вас пока нет новостей"})})};var L=r(775);const N=function(e){e.className;var n=(0,L.X)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.h,{}),(0,t.jsxs)(a.Z,{className:n?"npByqif7":"",children:[(0,t.jsx)(s.K,{}),(0,t.jsx)(C,{})]})]})}}}]);