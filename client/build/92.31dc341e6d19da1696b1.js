"use strict";(self.webpackChunksocialnetwork=self.webpackChunksocialnetwork||[]).push([[92],{524:(e,n,r)=>{r.r(n),r.d(n,{default:()=>N});var t=r(5893),a=r(8370),o=r(8826),s=r(3060),i=r(4184),c=r.n(i),u=r(7294),l=r(9237),f=r(966),d=r(8335),p=function(e){var n;return null===(n=e.news)||void 0===n?void 0:n.news},h=r(3743),v=r(7168),w=r(9204),y=(0,v.hg)("news/getNews",(function(e,n){var r,t,a,o,s=e.friendList,i=n.extra,c=n.rejectWithValue;return r=void 0,t=void 0,o=function(){var e;return function(e,n){var r,t,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(r=1,t&&(a=2&i[0]?t.return:i[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,i[1])).done)return a;switch(t=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,t=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],t=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,i.api.post("/post/getNews",{usersList:s})];case 1:return[2,n.sent().data];case 2:return e=n.sent(),console.log(e),(0,w.IZ)(e)&&e.response?[2,c(e.response.data.error.message)]:[2,c("error")];case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,n){function s(e){try{c(o.next(e))}catch(e){n(e)}}function i(e){try{c(o.throw(e))}catch(e){n(e)}}function c(n){var r;n.done?e(n.value):(r=n.value,r instanceof a?r:new a((function(e){e(r)}))).then(s,i)}c((o=o.apply(r,t||[])).next())}))})),b=function(e){var n;return null===(n=e.news)||void 0===n?void 0:n.isLoading},g=r(9731);var m=r(5998),x=function(e){var n=e.children,r=e.reducers,a=e.removeAfterUnmount,o=(0,m.oR)(),s=(0,m.I0)();return(0,u.useEffect)((function(){return Object.entries(r).forEach((function(e){var n=e[0],r=e[1];o.reducerManager.add(n,r),s({type:"@INIT ".concat(n," reducer")})})),function(){a&&Object.entries(r).forEach((function(e){var n=e[0];e[1],o.reducerManager.remove(n),s({type:"@DESTROY ".concat(n," reducer")})}))}}),[]),(0,t.jsx)(t.Fragment,{children:n})},j=(0,v.oM)({name:"news",initialState:{news:[],isLoading:!1},reducers:{},extraReducers:function(e){e.addCase(y.rejected,(function(e,n){e.isLoading=!1,e.error=n.payload})).addCase(y.pending,(function(e){e.isLoading=!0,e.error=void 0})).addCase(y.fulfilled,(function(e,n){e.isLoading=!1,e.news=n.payload.posts}))}}),k=(j.actions,{news:j.reducer}),C=function(e){var n=e.className,r=(0,u.useState)([]),a=(r[0],r[1],(0,h.T)()),o=(0,f.C)(d.is),s=(0,f.C)(p),i=(0,f.C)(b);return(0,u.useEffect)((function(){o.friends&&a(y({friendList:o.friends}))}),[o.friends]),i?(0,t.jsx)(g.t,{}):(0,t.jsx)(x,{removeAfterUnmount:!0,reducers:k,children:(0,t.jsx)("div",{className:c()("owol2I34",{},[n]),children:s&&s.length?s.map((function(e){return(0,t.jsx)(l.S,{post:e},e._id)})):"У вас пока нет новостей"})})};var L=r(775);const N=function(e){e.className;var n=(0,L.X)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.h,{}),(0,t.jsxs)(o.Z,{className:n?"npByqif7":"",children:[(0,t.jsx)(s.K,{}),(0,t.jsx)(C,{})]})]})}}}]);